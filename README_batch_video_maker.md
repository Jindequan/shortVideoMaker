# Batch Video Maker

This script automates the process of generating multiple short videos from a list of titles. It leverages the shortVideoMaker project to handle the entire workflow from script generation to final video production. All configuration settings are read from the project's config.toml file.

## Features

- Processes multiple video titles from a text file
- Uses all settings from your config.toml file
- Generates scripts using AI
- Creates audio narration with text-to-speech
- Downloads relevant video materials
- Combines everything into professional short videos
- Uses your configured subtitle position settings
- Generates catchy titles and hashtags for social media
- Saves all outputs in organized folders

## Prerequisites

Make sure you have the shortVideoMaker project set up and configured properly, including:

- LLM API keys (OpenAI, G4F, etc.)
- Video source API keys (Pexels, Pixabay)
- TTS (Text-to-Speech) configuration

## Usage

1. Configure your settings in the project's `config.toml` file:
   - Video settings (aspect ratio, source, etc.)
   - Voice settings (voice name, rate, etc.)
   - Subtitle settings (position, font, etc.)
   - Other preferences

2. Create a text file with your video titles, one per line (empty lines will be ignored):

```
如何提高工作效率

健康饮食的重要性
# 这行会被处理，因为 # 不是空行
每天锻炼的好处

```

3. Run the script:

```bash
python batch_video_maker.py --file your_titles.txt
```

## Command Line Arguments

| Argument | Description | Default |
|----------|-------------|---------|
| `--file` | Path to file containing video titles (one per line, empty lines are ignored) | (Required) |
| `--max-titles` | Maximum number of titles to process | all |
| `--start-index` | Start processing from this index | 0 |

All other settings (video aspect, voice, subtitle position, etc.) are read from your `config.toml` file.

## Output

For each title, the script creates:

1. A video script generated by AI
2. Audio narration of the script
3. Video materials related to the topic
4. Subtitles for the video
5. Final rendered video(s)
6. Metadata including a catchy title and hashtags

All outputs are saved in the task directory with a unique ID.

## Results

The script saves a `batch_results.json` file in the `storage/batch` directory with information about all processed titles, including:

- Success/failure status
- Task ID
- Original title
- Catchy title
- Tags/hashtags
- Paths to generated videos

## Troubleshooting

If you encounter issues:

1. Check the log files in the `storage/logs` directory
2. Verify your API keys and configuration
3. Make sure you have internet access for downloading video materials
4. Check that the TTS service is working properly

## Example

```bash
python batch_video_maker.py --file viral_titles.txt --max-titles 5
```

This will process the first 5 titles in `viral_titles.txt`, using all settings from your `config.toml` file.

## Configuration Tips

To customize the video generation process:

1. First use the web UI to configure your preferred settings:
   - Set your preferred subtitle position
   - Choose your favorite voice and rate
   - Select video aspect ratio and source
   - Adjust font settings

2. All these settings will be saved to `config.toml` and used by the batch script

3. You can also manually edit the `config.toml` file to adjust settings
